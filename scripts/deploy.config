#!/usr/bin/env bash
# Configuration de déploiement distant (ne PAS committer d'informations sensibles)
# Ce fichier est sourcé par scripts/push-deploy.sh pour éviter de modifier les paramètres
# de connexion en dur dans le script et garantir qu'on ne casse pas la prod.

# Identifiants SSH (clé recommandée). Ne mettez PAS de mot de passe ici.
REMOTE_USER="ZDaULDMYSEC_sam"
REMOTE_HOST="57-104359.ssh.hosting-ik.com"

# Chemin du dépôt sur le serveur (racine du projet Fusepoint)
REMOTE_PATH="/srv/customer/sites/fusepoint.ch"

# Références Git locales
GIT_REMOTE="origin"
GIT_BRANCH="main"

# PM2 et application à redémarrer
API_APP_NAME="fusepoint-api"
ECOSYSTEM_CONFIG="/srv/customer/sites/fusepoint.ch/ecosystem.prod.config.js"

# Fichier de log côté serveur pour tracer les déploiements
LOG_REMOTE_FILE="/srv/customer/sites/fusepoint.ch/deployments.log"

# Options
# Mettre à true pour lancer un npm i pm2 côté serveur si pm2 n'est pas présent localement
ENSURE_PM2_LOCAL="true"

# Mettre à true pour afficher uniquement et ne pas exécuter (dry-run)
DRY_RUN="false"