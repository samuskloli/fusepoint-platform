/* ==========================================================================
   UTILITAIRES CSS CENTRALISÉS - FUSEPOINT PLATFORM
   ========================================================================== */

/* Variables CSS personnalisées */
:root {
  /* Couleurs principales */
  --color-primary: #2563eb;
  --color-primary-dark: #1d4ed8;
  --color-primary-light: #3b82f6;
  
  /* Couleurs secondaires */
  --color-secondary: #64748b;
  --color-secondary-dark: #475569;
  --color-secondary-light: #94a3b8;
  
  /* Couleurs de statut */
  --color-success: #059669;
  --color-success-light: #10b981;
  --color-error: #dc2626;
  --color-error-light: #ef4444;
  --color-warning: #d97706;
  --color-warning-light: #f59e0b;
  --color-info: --color-primary;
  
  /* Couleurs neutres */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  
  /* Espacements */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  --spacing-3xl: 4rem;
  
  /* Rayons de bordure */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;
  
  /* Ombres */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  
  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;
  
  /* Z-index */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-toast: 1080;
}

/* Mode sombre */
@media (prefers-color-scheme: dark) {
  :root {
    --color-gray-50: #111827;
    --color-gray-100: #1f2937;
    --color-gray-200: #374151;
    --color-gray-300: #4b5563;
    --color-gray-400: #6b7280;
    --color-gray-500: #9ca3af;
    --color-gray-600: #d1d5db;
    --color-gray-700: #e5e7eb;
    --color-gray-800: #f3f4f6;
    --color-gray-900: #f9fafb;
  }
}

/* Utilitaires de positionnement */
.absolute-center {
  @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2;
}

.absolute-center-x {
  @apply absolute left-1/2 transform -translate-x-1/2;
}

.absolute-center-y {
  @apply absolute top-1/2 transform -translate-y-1/2;
}

.fixed-center {
  @apply fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2;
}

/* Utilitaires de flexbox */
.flex-center {
  @apply flex items-center justify-center;
}

.flex-between {
  @apply flex items-center justify-between;
}

.flex-start {
  @apply flex items-center justify-start;
}

.flex-end {
  @apply flex items-center justify-end;
}

.flex-col-center {
  @apply flex flex-col items-center justify-center;
}

.flex-col-between {
  @apply flex flex-col justify-between;
}

/* Utilitaires de grille */
.grid-center {
  @apply grid place-items-center;
}

.grid-cols-auto {
  grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
}

.grid-cols-fill {
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
}

/* Utilitaires de taille */
.size-full {
  @apply w-full h-full;
}

.size-screen {
  @apply w-screen h-screen;
}

.min-size-0 {
  @apply min-w-0 min-h-0;
}

.square {
  aspect-ratio: 1;
}

.aspect-video {
  aspect-ratio: 16 / 9;
}

.aspect-photo {
  aspect-ratio: 4 / 3;
}

/* Utilitaires de débordement */
.overflow-overlay {
  overflow: overlay;
}

.scrollbar-thin {
  scrollbar-width: thin;
}

.scrollbar-none {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.scrollbar-none::-webkit-scrollbar {
  display: none;
}

/* Utilitaires de texte */
.text-balance {
  text-wrap: balance;
}

.text-pretty {
  text-wrap: pretty;
}

.font-numeric {
  font-variant-numeric: tabular-nums;
}

.text-gradient {
  background: linear-gradient(135deg, var(--color-primary), var(--color-primary-light));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Utilitaires d'interaction */
.pointer-events-auto {
  pointer-events: auto;
}

.pointer-events-none {
  pointer-events: none;
}

.select-none {
  user-select: none;
}

.select-text {
  user-select: text;
}

.select-all {
  user-select: all;
}

/* Utilitaires de visibilité */
.invisible {
  visibility: hidden;
}

.visible {
  visibility: visible;
}

.opacity-disabled {
  opacity: 0.5;
}

.opacity-muted {
  opacity: 0.7;
}

/* Utilitaires de bordure */
.border-dashed {
  border-style: dashed;
}

.border-dotted {
  border-style: dotted;
}

.border-double {
  border-style: double;
}

.divide-dashed > * + * {
  border-top-style: dashed;
}

/* Utilitaires de fond */
.bg-gradient-primary {
  background: linear-gradient(135deg, var(--color-primary), var(--color-primary-light));
}

.bg-gradient-secondary {
  background: linear-gradient(135deg, var(--color-secondary), var(--color-secondary-light));
}

.bg-gradient-success {
  background: linear-gradient(135deg, var(--color-success), var(--color-success-light));
}

.bg-gradient-error {
  background: linear-gradient(135deg, var(--color-error), var(--color-error-light));
}

.bg-gradient-warning {
  background: linear-gradient(135deg, var(--color-warning), var(--color-warning-light));
}

.bg-pattern-dots {
  background-image: radial-gradient(circle, var(--color-gray-300) 1px, transparent 1px);
  background-size: 20px 20px;
}

.bg-pattern-grid {
  background-image: 
    linear-gradient(var(--color-gray-200) 1px, transparent 1px),
    linear-gradient(90deg, var(--color-gray-200) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Utilitaires d'animation */
.animate-fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

.animate-fade-out {
  animation: fadeOut 0.3s ease-in-out;
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

.animate-slide-down {
  animation: slideDown 0.3s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.2s ease-out;
}

.animate-scale-out {
  animation: scaleOut 0.2s ease-in;
}

.animate-bounce-in {
  animation: bounceIn 0.5s ease-out;
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

.animate-pulse-slow {
  animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Définitions d'animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideDown {
  from { transform: translateY(-20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes scaleIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes scaleOut {
  from { transform: scale(1); opacity: 1; }
  to { transform: scale(0.9); opacity: 0; }
}

@keyframes bounceIn {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
  20%, 40%, 60%, 80% { transform: translateX(10px); }
}

/* Utilitaires de performance */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

.will-change-scroll {
  will-change: scroll-position;
}

.gpu-accelerated {
  transform: translateZ(0);
}

/* Utilitaires de print */
@media print {
  .print-hidden {
    display: none !important;
  }
  
  .print-visible {
    display: block !important;
  }
  
  .print-break-before {
    page-break-before: always;
  }
  
  .print-break-after {
    page-break-after: always;
  }
  
  .print-break-inside-avoid {
    page-break-inside: avoid;
  }
}

/* Utilitaires de focus */
.focus-visible-only:focus:not(:focus-visible) {
  outline: none;
}

.focus-ring-offset {
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
}

.focus-ring-inset {
  @apply focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500;
}

/* Utilitaires de conteneur */
.container-xs {
  max-width: 475px;
  margin-left: auto;
  margin-right: auto;
}

.container-sm {
  max-width: 640px;
  margin-left: auto;
  margin-right: auto;
}

.container-md {
  max-width: 768px;
  margin-left: auto;
  margin-right: auto;
}

.container-lg {
  max-width: 1024px;
  margin-left: auto;
  margin-right: auto;
}

.container-xl {
  max-width: 1280px;
  margin-left: auto;
  margin-right: auto;
}

.container-2xl {
  max-width: 1536px;
  margin-left: auto;
  margin-right: auto;
}

/* Utilitaires de ratio d'aspect */
.aspect-square {
  aspect-ratio: 1 / 1;
}

.aspect-video {
  aspect-ratio: 16 / 9;
}

.aspect-photo {
  aspect-ratio: 4 / 3;
}

.aspect-cinema {
  aspect-ratio: 21 / 9;
}

/* Utilitaires de masquage conditionnel */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.show-on-hover {
  opacity: 0;
  transition: opacity var(--transition-base);
}

.group:hover .show-on-hover {
  opacity: 1;
}

.hide-on-hover {
  opacity: 1;
  transition: opacity var(--transition-base);
}

.group:hover .hide-on-hover {
  opacity: 0;
}

/* Utilitaires de sélection de couleur */
.accent-primary {
  accent-color: var(--color-primary);
}

.accent-success {
  accent-color: var(--color-success);
}

.accent-error {
  accent-color: var(--color-error);
}

.accent-warning {
  accent-color: var(--color-warning);
}

/* Utilitaires de caret */
.caret-primary {
  caret-color: var(--color-primary);
}

.caret-transparent {
  caret-color: transparent;
}

/* Utilitaires de sélection */
.selection-primary::selection {
  background-color: var(--color-primary);
  color: white;
}

.selection-none {
  user-select: none;
}

/* Utilitaires de défilement */
.scroll-smooth {
  scroll-behavior: smooth;
}

.scroll-auto {
  scroll-behavior: auto;
}

.overscroll-contain {
  overscroll-behavior: contain;
}

.overscroll-none {
  overscroll-behavior: none;
}

/* Utilitaires de contenu */
.content-empty::before {
  content: '';
}

.content-space::before {
  content: ' ';
}

/* Utilitaires de backdrop */
.backdrop-blur-xs {
  backdrop-filter: blur(2px);
}

.backdrop-blur-sm {
  backdrop-filter: blur(4px);
}

.backdrop-blur-md {
  backdrop-filter: blur(8px);
}

.backdrop-blur-lg {
  backdrop-filter: blur(16px);
}

.backdrop-blur-xl {
  backdrop-filter: blur(24px);
}

/* Utilitaires de mix-blend */
.mix-blend-multiply {
  mix-blend-mode: multiply;
}

.mix-blend-screen {
  mix-blend-mode: screen;
}

.mix-blend-overlay {
  mix-blend-mode: overlay;
}

.mix-blend-darken {
  mix-blend-mode: darken;
}

.mix-blend-lighten {
  mix-blend-mode: lighten;
}

/* Utilitaires de isolation */
.isolate {
  isolation: isolate;
}

.isolation-auto {
  isolation: auto;
}

/* Responsive design helpers */
@media (max-width: 640px) {
  .mobile-stack > * {
    width: 100% !important;
    margin-bottom: 1rem;
  }
  
  .mobile-center {
    text-align: center !important;
  }
  
  .mobile-full {
    width: 100% !important;
  }
}

@media (min-width: 768px) {
  .tablet-flex {
    display: flex !important;
  }
  
  .tablet-grid {
    display: grid !important;
  }
}

@media (min-width: 1024px) {
  .desktop-block {
    display: block !important;
  }
  
  .desktop-inline {
    display: inline !important;
  }
}

/* Utilitaires de debug */
.debug-red {
  outline: 2px solid red !important;
}

.debug-blue {
  outline: 2px solid blue !important;
}

.debug-green {
  outline: 2px solid green !important;
}

.debug-all * {
  outline: 1px solid rgba(255, 0, 0, 0.3) !important;
}

/* Utilitaires de performance et optimisation */
.contain-layout {
  contain: layout;
}

.contain-style {
  contain: style;
}

.contain-paint {
  contain: paint;
}

.contain-strict {
  contain: strict;
}

.content-visibility-auto {
  content-visibility: auto;
}

.content-visibility-hidden {
  content-visibility: hidden;
}

/* Utilitaires de typographie avancée */
.text-rendering-optimized {
  text-rendering: optimizeLegibility;
}

.font-smoothing-antialiased {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.font-smoothing-auto {
  -webkit-font-smoothing: auto;
  -moz-osx-font-smoothing: auto;
}

/* Utilitaires de forme */
.clip-circle {
  clip-path: circle(50%);
}

.clip-triangle {
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

.clip-diamond {
  clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
}

.clip-hexagon {
  clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
}

/* Utilitaires de masque */
.mask-fade-bottom {
  mask-image: linear-gradient(to bottom, black 0%, black 80%, transparent 100%);
}

.mask-fade-top {
  mask-image: linear-gradient(to top, black 0%, black 80%, transparent 100%);
}

.mask-fade-left {
  mask-image: linear-gradient(to left, black 0%, black 80%, transparent 100%);
}

.mask-fade-right {
  mask-image: linear-gradient(to right, black 0%, black 80%, transparent 100%);
}