# =============================================================================
# CONFIGURATION SERVEUR FUSEPOINT HUB
# =============================================================================

# -----------------------------------------------------------------------------
# ENVIRONNEMENT
# -----------------------------------------------------------------------------
# D√©finit l'environnement d'ex√©cution (development/production)
NODE_ENV=development

# -----------------------------------------------------------------------------
# SERVEUR
# -----------------------------------------------------------------------------
# Port d'√©coute du serveur backend
PORT=3002

# -----------------------------------------------------------------------------
# URLS DE L'APPLICATION
# -----------------------------------------------------------------------------
# ‚ö†Ô∏è CRITIQUE POUR LA PRODUCTION ‚ö†Ô∏è
# URL du frontend - OBLIGATOIRE en production
# D√©veloppement: http://localhost:5173
# Production: https://votre-domaine.com
FRONTEND_URL=http://localhost:5173

# URL de base pour les liens (optionnel, utilise FRONTEND_URL par d√©faut)
BASE_URL=http://localhost:5173

# URL de l'API backend
# D√©veloppement: http://localhost:3002
# Production: https://api.votre-domaine.com
API_BASE_URL=http://localhost:3002

# Origines CORS autoris√©es (s√©par√©es par des virgules)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3002,https://fusepoint.ch,https://www.fusepoint.ch

# -----------------------------------------------------------------------------
# CONFIGURATION EMAIL
# -----------------------------------------------------------------------------
# ‚ö†Ô∏è OBLIGATOIRE POUR LES LIENS D'EMAIL ‚ö†Ô∏è

# Adresse email exp√©diteur
EMAIL_FROM=noreply@fusepoint.com
# Nom affich√© comme exp√©diteur
EMAIL_FROM_NAME="Fusepoint Hub"

# === D√âVELOPPEMENT (Ethereal Email) ===
# Service d'email pour les tests
EMAIL_SERVICE=ethereal

# === PRODUCTION (SendGrid - Recommand√©) ===
# D√©commentez et configurez pour la production
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=apikey
# SMTP_PASS=votre_api_key_sendgrid

# === PRODUCTION (Gmail) ===
# Alternative pour Gmail
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=votre_email@gmail.com
# SMTP_PASS=votre_mot_de_passe_app

# === PRODUCTION (Infomaniak) ===
# Alternative pour Infomaniak
# SMTP_HOST=mail.infomaniak.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=votre_email@votre-domaine.com
# SMTP_PASS=votre_mot_de_passe

# -----------------------------------------------------------------------------
# S√âCURIT√â
# -----------------------------------------------------------------------------
# Secret JWT pour l'authentification (g√©n√©rez une cl√© s√©curis√©e)
# Utilisez: openssl rand -base64 32
JWT_SECRET=votre_jwt_secret_tres_securise_32_caracteres

# Cl√© de chiffrement (exactement 32 caract√®res)
# Utilisez: openssl rand -hex 16
ENCRYPTION_KEY=votre_cle_chiffrement_32_caracteres

# Politique de S√©curit√© de Contenu (CSP)
# Configurez les sources autoris√©es par directive via des listes s√©par√©es par des virgules.
# Ces variables ne sont lues qu'en production (NODE_ENV=production).
# Exemple de valeurs courantes pour autoriser des CDN connus:
#
# Autorisations r√©seau (fetch/XHR/WebSocket)
#CSP_CONNECT_SRC=https://api.openai.com,https://*.googleapis.com
# Scripts (CDN)
#CSP_SCRIPT_SRC=https://cdn.jsdelivr.net,https://unpkg.com,https://cdnjs.cloudflare.com
# Styles (CDN, Google Fonts)
#CSP_STYLE_SRC=https://fonts.googleapis.com,https://cdn.jsdelivr.net
# Images
#CSP_IMG_SRC=https://images.unsplash.com,https://cdn.jsdelivr.net
# Polices (Google Fonts)
#CSP_FONT_SRC=https://fonts.gstatic.com,https://cdn.jsdelivr.net
# Frames/Embeds (YouTube/Vimeo)
#CSP_FRAME_SRC=https://player.vimeo.com,https://www.youtube.com

# -----------------------------------------------------------------------------
# SERVICES EXTERNES
# -----------------------------------------------------------------------------

# OpenAI Configuration
# Obtenez votre cl√© API sur https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here

# Google Service Account
# Chemin vers le fichier JSON du service account
GOOGLE_SERVICE_ACCOUNT_KEY_FILE=./config/service-account-key.json

# -----------------------------------------------------------------------------
# BASE DE DONN√âES
# -----------------------------------------------------------------------------
# Configuration de la base de donn√©es
# Production: MariaDB
DB_TYPE=mariadb

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
# Nom de l'application
APP_NAME=Fusepoint Hub

# Email de test pour la validation (optionnel)
TEST_EMAIL=test@example.com

# -----------------------------------------------------------------------------
# INSTRUCTIONS DE D√âPLOIEMENT
# -----------------------------------------------------------------------------
# 
# üöÄ POUR LA PRODUCTION :
# 
# 1. Copiez ce fichier vers .env
# 2. Modifiez les valeurs suivantes :
#    - NODE_ENV=production
#    - FRONTEND_URL=https://votre-domaine.com
#    - API_BASE_URL=https://api.votre-domaine.com
#    - EMAIL_FROM=noreply@votre-domaine.com
#    - Configurez SMTP_* selon votre fournisseur
#    - G√©n√©rez de nouvelles cl√©s JWT_SECRET et ENCRYPTION_KEY
# 
# 3. Validez la configuration :
#    node validate-production-urls.js --production
# 
# 4. Testez les emails :
#    node server/test-email.js
# 
# ‚ö†Ô∏è IMPORTANT :
# - Ne jamais commiter le fichier .env en production
# - Utilisez des cl√©s diff√©rentes entre dev et production
# - V√©rifiez que FRONTEND_URL ne contient pas 'localhost' en production
# 
# -----------------------------------------------------------------------------